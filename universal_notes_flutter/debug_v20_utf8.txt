00:00 +0: loading C:/Users/joaovitormagdaleno/Documents/GitHub/Notes/universal_notes_flutter/test/main_test.dart
00:00 +0: (setUpAll)
00:00 +0: NotesScreen displays notes
Warning database has been locked for 0:00:10.000000. Make sure you always use the transaction object for database operations during a transaction
ÔòÉÔòÉÔòí EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK Ôò×ÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉ
The following assertion was thrown running a test:
pumpAndSettle timed out

When the exception was thrown, this was the stack:
#0      WidgetTester.pumpAndSettle.<anonymous closure> (package:flutter_test/src/widget_tester.dart:717:11)
<asynchronous suspension>
#1      TestAsyncUtils.guard.<anonymous closure> (package:flutter_test/src/test_async_utils.dart:130:27)
<asynchronous suspension>
#2      main._pumpNotesScreen (file:///C:/Users/joaovitormagdaleno/Documents/GitHub/Notes/universal_notes_flutter/test/main_test.dart:367:5)
<asynchronous suspension>
#3      main.<anonymous closure> (file:///C:/Users/joaovitormagdaleno/Documents/GitHub/Notes/universal_notes_flutter/test/main_test.dart:373:5)
<asynchronous suspension>
#4      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:192:15)
<asynchronous suspension>
#5      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1059:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

The test description was:
  NotesScreen displays notes
ÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉ
00:06 +0 -1: NotesScreen displays notes [E]
  Test failed. See exception logs above.
  The test description was: NotesScreen displays notes
  
Warning: At least one test in this suite creates an HttpClient. When running a test suite that uses
TestWidgetsFlutterBinding, all HTTP requests will return status code 400, and no network request
will actually be made. Any test expecting a real network connection and status code will fail.
To test code that needs an HttpClient, provide your own HttpClient implementation to the code under
test, so that your test can consistently provide a testable response to the code under test.
00:06 +0 -1: NotesScreen State Rendering shows error message when fetch fails
00:06 +0 -1: NotesScreen displays notes [E]
  DatabaseException(error database_closed)
  package:sqflite_common/src/database_mixin.dart 518:7                      SqfliteDatabaseMixin.checkNotClosed
  package:sqflite_common/src/database_mixin.dart 261:8                      SqfliteDatabaseExecutorMixin._rawDelete
  package:sqflite_common/src/database_mixin.dart 288:12                     SqfliteDatabaseExecutorMixin.delete
  package:universal_notes_flutter/repositories/note_repository.dart 644:15  NoteRepository._updateTagsForNote
  package:universal_notes_flutter/repositories/note_repository.dart 501:13  NoteRepository.insertNote.<fn>
  ===== asynchronous gap ===========================
  dart:async                                                                _CustomZone.registerBinaryCallback
  package:universal_notes_flutter/services/sync_service.dart 90:7           SyncService._startBackgroundSync.<fn>
  ===== asynchronous gap ===========================
  dart:async                                                                _StreamImpl.listen
  package:universal_notes_flutter/services/sync_service.dart 87:61          SyncService._startBackgroundSync
  package:universal_notes_flutter/services/sync_service.dart 47:5           SyncService.init
  ===== asynchronous gap ===========================
  dart:async                                                                _CustomZone.registerUnaryCallback
  package:universal_notes_flutter/services/sync_service.dart 44:5           SyncService.init
  test\main_test.dart 338:32                                                main.<fn>
  ===== asynchronous gap ===========================
  dart:async                                                                _CustomZone.registerUnaryCallback
  test\main_test.dart 335:5                                                 main.<fn>
  
00:07 +0 -2: NotesScreen State Rendering shows error message when fetch fails [E]
  type 'Null' is not a subtype of type 'Future<String>' in type cast
  test\main_test.dart 113:9                                          MockFirestoreRepository.getNoteContent
  package:universal_notes_flutter/services/sync_service.dart 129:57  SyncService._syncDown
  ===== asynchronous gap ===========================
  dart:async                                                         _CustomZone.registerBinaryCallback
  package:universal_notes_flutter/services/sync_service.dart 90:7    SyncService._startBackgroundSync.<fn>
  ===== asynchronous gap ===========================
  dart:async                                                         _StreamImpl.listen
  package:universal_notes_flutter/services/sync_service.dart 87:61   SyncService._startBackgroundSync
  package:universal_notes_flutter/services/sync_service.dart 47:5    SyncService.init
  ===== asynchronous gap ===========================
  dart:async                                                         _CustomZone.registerUnaryCallback
  package:universal_notes_flutter/services/sync_service.dart 44:5    SyncService.init
  test\main_test.dart 338:32                                         main.<fn>
  ===== asynchronous gap ===========================
  dart:async                                                         _CustomZone.registerUnaryCallback
  test\main_test.dart 335:5                                          main.<fn>
  
