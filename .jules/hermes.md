# Hermes' Journal - CRITICAL LEARNINGS ONLY

## 2026-01-08 - [Centralized Versioning & Path Modernization] **Pipeline:** Broken feedback loop due to project rename and fragmented versioning logic. **Automation:** Created `scripts/update_version.dart` using Dart 3 sealed classes to unify versioning across platforms and modernized secret management with `--dart-define-from-file`. **Velocity:** Restored CI/CD functionality and saved ~5 mins per release by removing manual versioning steps.

## 2026-01-08 - [Build Optimization & Artifact Health] **Pipeline:** Bloated binaries and slow Quality Gate due to redundant code generation. **Automation:** Implemented APK/Windows obfuscation and split debug info. Added `build_runner` caching and a 24h cache purge logic using GH CLI. Created `scripts/check_health.dart` for automated artifact size auditing. **Velocity:** Reduced CI feedback loop by ~3-5 mins with caching and prepared for smaller, more secure production binaries.

## 2026-01-08 - [Release Traceability & Quality Guards] **Pipeline:** Lack of commit-to-binary traceability and fragmented coverage logic. **Automation:** Created `scripts/calculate_coverage.dart` to unify coverage calculation and enforce 80% threshold in CI. Developed `scripts/generate_changelog.dart` for automated release notes. Injected `COMMIT_SHA` and `BUILD_TIME` into `env.json`. **Velocity:** Improved release visibility and ensured high quality standards are maintained automatically.

## 2026-01-08 - [Developer Experience & Code Hygiene] **Pipeline:** Inconsistent code formatting and low visibility into PR quality metrics. **Automation:** Implemented a strict **Formatting Guard** (`dart format`) in the Quality Gate and created `scripts/generate_pr_summary.dart` to post automated metric summaries directly on Pull Requests. **Velocity:** Eliminated formatting-related noise and reduced code review time by providing instant feedback on Coverage and Health metrics.

## 2026-01-08 - [Local-to-CI Parity & Environment Guard] **Pipeline:** Risk of "it works on my machine" due to unsynced local hooks and loose dependencies. **Automation:** Synchronized `lefthook.yml` with CI standards (Pre-Push coverage check). Created `scripts/audit_dependencies.dart` to block loose versions (`any`). Developed `scripts/hermes_doctor.dart` to automate developer setup verification. **Velocity:** Shifted quality feedback left, catching configuration and dependency issues before they ever reach the CI pipeline.

## 2026-01-08 - [Size Awareness & Smart CI] **Pipeline:** Bloated builds and slow CI for trivial changes. **Automation:** Implemented **Size Drift Reporting** to monitor artifact growth. Added **Smart CI** path filtering to skip expensive tests for documentation-only changes. Added **Auto-Labeler** for PR organization. **Velocity:** Reduced CI wait times and institutionalized artifact size governance.
