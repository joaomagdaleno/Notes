# Lefthook configuration for local Git hooks
# To install: dart pub global activate lefthook && lefthook install

pre-commit:
  parallel: true
  commands:
    analyze:
      root: universal_notes_flutter/
      run: flutter analyze
    format:
      root: universal_notes_flutter/
      run: flutter format --set-exit-if-changed .

commit-msg:
  commands:
    conventional-commits:
      run: |
        grep -iqE "^(feat|fix|docs|style|refactor|perf|test|build|ci|chore|revert)(\(.+\))?!?: .+" {1} || \
        (echo "Error: Commit message doesn't follow Conventional Commits standard (e.g., 'feat: add feature')" && exit 1)
